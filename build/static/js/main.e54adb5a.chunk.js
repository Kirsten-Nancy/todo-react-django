(this["webpackJsonptodo-frontend"]=this["webpackJsonptodo-frontend"]||[]).push([[0],{16:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var c=n(1),o=n.n(c),a=n(10),i=n.n(a),s=(n(16),n(5)),r=n.n(s),d=n(7),l=n(4),j=n(3),u=n(2),b=function(t){var e=t.addTodo,n=Object(c.useState)(""),o=Object(j.a)(n,2),a=o[0],i=o[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",{className:"todoInput",type:"text",placeholder:"Todo title",name:"Add Todo",value:a,onChange:function(t){return i(t.target.value)}}),Object(u.jsx)("button",{className:"btn addButton",onClick:function(){""!==a?(e(a),i("")):alert("Please enter todo title")},children:"Add"}),Object(u.jsx)("br",{})]})},p=n(11),h=(n(19),function(t){var e=t.chooseDate,n=Object(c.useState)(new Date),o=Object(j.a)(n,2),a=o[0],i=o[1];return Object(u.jsx)(p.a,{onChange:function(t){var n=t.getFullYear(),c=t.getMonth()+1,o=t.getDate();i(t),e({year:n,month:c,day:o})},value:a})}),O=n(9),f=function(t){var e=t.setEditTodoTitle,n=t.editTodo,o=t.todo,a=Object(c.useState)(o.title),i=Object(j.a)(a,2),s=i[0],r=i[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{style:{textAlign:"center"},children:"Edit Todo"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"todoInput",type:"text",name:"Todo text",value:s,onChange:function(t){return r(t.target.value)}}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"btn save-btn",onClick:function(){var t=Object(l.a)(Object(l.a)({},o),{},{title:s});n(t),e(!1)},children:"Save"}),Object(u.jsx)("button",{onClick:function(){return e(!1)},className:"btn cancel-btn",children:"Cancel"})]}),Object(u.jsx)("hr",{})]})},x=function(t){var e=t.todo,n=t.toggleTodo,o=t.deleteTodo,a=t.editTodo,i=Object(c.useState)(!1),s=Object(j.a)(i,2),r=s[0],d=s[1];return Object(u.jsx)(u.Fragment,{children:r?Object(u.jsx)(f,{todo:e,setEditTodoTitle:d,editTodo:a}):Object(u.jsxs)("div",{className:"todo-container",children:[Object(u.jsxs)("div",{className:"todo",children:[Object(u.jsxs)("label",{style:{textDecoration:e.completed?"line-through":"none"},className:"todoLabel",children:[Object(u.jsx)("input",{type:"checkbox",value:e.completed,checked:e.completed,onChange:function(){return n(e)}}),e.title]}),e.completed?"":Object(u.jsx)(O.a,{style:{color:"green",fontSize:"1rem",cursor:"pointer",marginRight:"10px",marginLeft:"10px"},onClick:function(){return d(!0)}}),Object(u.jsx)(O.b,{style:{color:"#f44336",fontSize:"1rem",cursor:"pointer"},onClick:function(){return o(e.id)}})]}),Object(u.jsxs)("div",{className:"dates",children:[Object(u.jsxs)("p",{style:{display:"inline-block",marginRight:"10px"},children:["Created: ",e.created.split("T")[0]]}),e.completed?Object(u.jsxs)("p",{style:{display:"inline-block"},children:["Completed:",e.updated.split("T")[0]]}):""]}),Object(u.jsx)("hr",{})]})})},m=function(t){var e=t.todosList,n=t.toggleTodo,c=t.deleteTodo,o=t.editTodo;return Object(u.jsx)(u.Fragment,{children:e.map((function(t){return Object(u.jsx)(x,{todo:t,toggleTodo:n,deleteTodo:c,editTodo:o},t.id)}))})};var g=function(){var t="http://127.0.0.1:8000/api/todos",e=new Date,n=Object(c.useState)([]),o=Object(j.a)(n,2),a=o[0],i=o[1],s=Object(c.useState)({year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}),p=Object(j.a)(s,2),O=p[0],f=p[1],x=function(){var e=Object(d.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c={completed:!1,title:n},fetch("".concat(t,"/add"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(){g()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){g()}),[O]);var g=function(){var e=Object(d.a)(r.a.mark((function e(){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t,"/").concat(O.year,"/").concat(O.month,"/").concat(O.day));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,console.log(c),i(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{children:"To-do application"}),Object(u.jsxs)("div",{className:"main",children:[Object(u.jsx)("div",{className:"custom-calendar",children:Object(u.jsx)(h,{chooseDate:f})}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("h6",{children:["".concat(O.year,"-").concat(O.month,"-").concat(O.day)," todos"]}),0===a.length?Object(u.jsx)("p",{className:"empty",children:"No todos created"}):Object(u.jsxs)("div",{children:[O.day===e.getDate()?Object(u.jsx)(b,{addTodo:x}):"",Object(u.jsx)(m,{todosList:a,toggleTodo:function(e){var n=Object(l.a)(Object(l.a)({},e),{},{completed:!0});fetch("".concat(t,"/update/").concat(e.id),{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)}).then((function(){g()}))},deleteTodo:function(e){fetch("".concat(t,"/delete/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(){g()}))},editTodo:function(e){var n=Object(l.a)(Object(l.a)({},e),{},{title:e.title});fetch("".concat(t,"/update/").concat(e.id),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(){g()}))}})]})]})]})]})},v=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(e){var n=e.getCLS,c=e.getFID,o=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),c(t),o(t),a(t),i(t)}))};i.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root")),v()}},[[22,1,2]]]);
//# sourceMappingURL=main.e54adb5a.chunk.js.map